<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>kt 4</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
        background: #0a1a1a;
      }

      .container {
        background-color: #1a2a2a;
        border-radius: 0;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        width: 100%;
        max-width: 600px;
        padding: 40px;
        border: 1px solid #2a4a4a;
        position: relative;
        color: #c0d0d0;
      }

      .container::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: linear-gradient(
            rgba(0, 255, 255, 0.03) 1px,
            transparent 1px
          ),
          linear-gradient(90deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px);
        background-size: 20px 20px;
        pointer-events: none;
        opacity: 0.4;
      }

      h1 {
        text-align: center;
        color: #70e0e0;
        margin-bottom: 10px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 2px;
      }

      .subtitle {
        text-align: center;
        color: #8aa0a0;
        margin-bottom: 30px;
        font-size: 16px;
      }

      .form-group {
        margin-bottom: 30px;
      }

      .question {
        font-size: 18px;
        color: #a0c0c0;
        margin-bottom: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      /* квадратик где цифры показывает */
      .value-display {
        background: #2a3a3a;
        padding: 5px 12px;
        border-radius: 4px;
        font-weight: 600;
        color: #70e0e0;
        min-width: 60px;
        text-align: center;
        border: 1px solid #3a5a5a;
      }

      /* контейнер для ползунка */
      .slider-container {
        position: relative;
        height: 50px;
      }

      /* серая полоска под ползунком */
      .slider-track {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 100%;
        height: 6px;
        background: #2a3a3a;
        border-radius: 3px;
      }

      /* синяя полоска, которая заполняется */
      .slider-progress {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        height: 6px;
        background: #3e6d6d;
        border-radius: 3px;
      }

      /* сам ползунок */
      .slider-thumb {
        position: absolute;
        top: 50%;
        width: 24px;
        height: 24px;
        background: #1a2a2a;
        border: 3px solid #70e0e0;
        border-radius: 50%;
        transform: translate(-50%, -50%);
        cursor: pointer;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        transition: transform 0.1s, box-shadow 0.1s;
        z-index: 10;
      }

      /* красивая наводка у кружка */
      .slider-thumb:hover {
        transform: translate(-50%, -50%) scale(1.1);
        box-shadow: 0 3px 8px rgba(0, 255, 255, 0.3);
      }

      /* активно держатель ползунка */
      .slider-thumb.active {
        transform: translate(-50%, -50%) scale(1.2);
        box-shadow: 0 4px 10px rgba(0, 255, 255, 0.5);
      }

      /* цифры под ползунком */
      .slider-labels {
        display: flex;
        justify-content: space-between;
        margin-top: 10px;
        color: #8aa0a0;
        font-size: 14px;
      }

      /* отослать всей школе */
      .submit-btn {
        display: block;
        width: 100%;
        padding: 15px;
        background: #2a5a5a;
        color: #c0f0f0;
        border: none;
        border-radius: 4px;
        font-size: 18px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s;
        margin-top: 20px;
        text-transform: uppercase;
        letter-spacing: 1px;
        border: 1px solid #3a6a6a;
      }

      /* когда наводим на кнопку */
      .submit-btn:hover {
        background: #3a6a6a;
        box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
      }

      /* блок рещультата */
      .result {
        margin-top: 30px;
        padding: 20px;
        background: #2a3a3a;
        border-radius: 4px;
        display: none;
        border: 1px solid #3a5a5a;
      }

      .result h3 {
        color: #70e0e0;
        margin-bottom: 15px;
        text-align: center;
        text-transform: uppercase;
      }

      .result-item {
        margin-bottom: 10px;
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border-bottom: 1px solid #3a4a4a;
      }

      .result-label {
        color: #a0c0c0;
      }

      .result-value {
        font-weight: 600;
        color: #70e0e0;
      }

      /* для крутых юзеров телефончиков */
      @media (max-width: 600px) {
        .container {
          padding: 25px;
        }

        .question {
          flex-direction: column;
          align-items: flex-start;
        }

        .value-display {
          margin-top: 10px;
        }
        
        .slider-labels span {
          font-size: 12px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Анкетирование</h1>
      <p class="subtitle">Мы собираем некую статистику, пожалуйста, ответьте на несколько вопросов о себе</p>

      <div class="form">
        <div class="form-group">
          <div class="question">
            <span>Ваш возраст:</span>
            <div class="value-display" id="age-value">25 лет</div>
          </div>
          <div class="slider-container">
            <div class="slider-track"></div>
            <div class="slider-progress" id="age-progress"></div>
            <div class="slider-thumb" id="age-thumb"></div>
          </div>
          <div class="slider-labels">
            <span>18</span>
            <span>25</span>
            <span>35</span>
            <span>45</span>
            <span>60+</span>
          </div>
        </div>

        <div class="form-group">
          <div class="question">
            <span>Принимали ли вы в последнее время гостей?</span>
            <div class="value-display" id="guests-value">не могу сказать</div>
          </div>
          <div class="slider-container">
            <div class="slider-track"></div>
            <div class="slider-progress" id="guests-progress"></div>
            <div class="slider-thumb" id="guests-thumb"></div>
          </div>
          <div class="slider-labels">
            <span>нет</span>
            <span>скорее нет</span>
            <span>не знаю</span>
            <span>скорее да</span>
            <span>да</span>
          </div>
        </div>

        <div class="form-group">
          <div class="question">
            <span>Сколько людей может находиться у вас дома?</span>
            <div class="value-display" id="capacity-value">4</div>
          </div>
          <div class="slider-container">
            <div class="slider-track"></div>
            <div class="slider-progress" id="capacity-progress"></div>
            <div class="slider-thumb" id="capacity-thumb"></div>
          </div>
          <div class="slider-labels">
            <span>1</span>
            <span>3</span>
            <span>5</span>
            <span>7</span>
            <span>10+</span>
          </div>
        </div>

        <div class="form-group">
          <div class="question">
            <span>Сколько гостей вы отправили по явке в КЧС?</span>
            <div class="value-display" id="kchs-value">5</div>
          </div>
          <div class="slider-container">
            <div class="slider-track"></div>
            <div class="slider-progress" id="kchs-progress"></div>
            <div class="slider-thumb" id="kchs-thumb"></div>
          </div>
          <div class="slider-labels">
            <span>0</span>
            <span>3</span>
            <span>5</span>
            <span>7</span>
            <span>10+</span>
          </div>
        </div>

        <button class="submit-btn" id="submit-btn">Отправить анкету</button>

        <div class="result" id="result">
          <h3>Спасибо, вот ваши ответы:</h3>
          <div class="result-item">
            <span class="result-label">Возраст:</span>
            <span class="result-value" id="result-age">25 лет</span>
          </div>
          <div class="result-item">
            <span class="result-label">Принимали гостей:</span>
            <span class="result-value" id="result-guests">не могу сказать</span>
          </div>
          <div class="result-item">
            <span class="result-label">Вместимость дома:</span>
            <span class="result-value" id="result-capacity">4</span>
          </div>
          <div class="result-item">
            <span class="result-label">Отправлено в КЧС:</span>
            <span class="result-value" id="result-kchs">5</span>
          </div>
          <h4>Скоро мы отправим вам сотрудников КЧС, спасибо за понимание</h4>
          <h6>По всем вопросам звоните по номеру 000-451</h6>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
      // массив со всеми ползунками и их настройками      
        const sliders = [
          {
            id: "age",
            thumb: document.getElementById("age-thumb"),
            progress: document.getElementById("age-progress"),
            valueDisplay: document.getElementById("age-value"),
            min: 18,
            max: 60,
            value: 25,
            step: 1,
            formatValue: (val) => val >= 60 ? "60+" : val.toString()
          },
          {
            id: "guests",
            thumb: document.getElementById("guests-thumb"),
            progress: document.getElementById("guests-progress"),
            valueDisplay: document.getElementById("guests-value"),
            min: 0,
            max: 4,
            value: 2,
            step: 1,
            formatValue: (val) => {
              const answers = ["нет", "скорее нет", "не знаю", "скорее да", "да"];
              return answers[val];
            },
          },
          {
            id: "capacity",
            thumb: document.getElementById("capacity-thumb"),
            progress: document.getElementById("capacity-progress"),
            valueDisplay: document.getElementById("capacity-value"),
            min: 1,
            max: 10,
            value: 4,
            step: 1,
            formatValue: (val) => val >= 10 ? "10+" : val.toString(),
          },
          {
            id: "kchs",
            thumb: document.getElementById("kchs-thumb"),
            progress: document.getElementById("kchs-progress"),
            valueDisplay: document.getElementById("kchs-value"),
            min: 0,
            max: 10,
            value: 5,
            step: 1,
            formatValue: (val) => val >= 10 ? "10+" : val.toString(),
          },
        ];

        // для каждого ползунка запускаем функцию инициализации
        sliders.forEach((slider) => {
          initSlider(slider);
        });

        // Функция которая делает ползунок рабочим
        function initSlider(slider) {
          const {
            thumb,
            progress,
            valueDisplay,
            min,
            max,
            value,
            step,
            formatValue,
          } = slider;

          // запоминаем текущее значение
          slider.currentValue = value;
          updateSlider(slider);

          // когда нажимаем на кружок, начинаем перетаскивание
          thumb.addEventListener("mousedown", startDrag);

          function startDrag(e) {
            e.preventDefault();
            thumb.classList.add("active");

            document.addEventListener("mousemove", onDrag);
            document.addEventListener("mouseup", stopDrag);
          }

          function onDrag(e) {
            const container = thumb.parentElement;
            const track = container.querySelector(".slider-track");
            const rect = track.getBoundingClientRect();

            // считаем куда кликнули относительно полоски
            let x = e.clientX - rect.left;
            x = Math.max(0, Math.min(x, rect.width));

            const percent = x / rect.width;
            let newValue = min + percent * (max - min);

            newValue = Math.round(newValue / step) * step;
            newValue = Math.max(min, Math.min(newValue, max));

            slider.currentValue = newValue;
            updateSlider(slider);
          }

          function stopDrag() {
            thumb.classList.remove("active");
            document.removeEventListener("mousemove", onDrag);
            document.removeEventListener("mouseup", stopDrag);
          }

          // чтобы можно было кликать по полоске и прыгать туда
          progress.parentElement.addEventListener("click", function (e) {
            const track = this.querySelector(".slider-track");
            const rect = track.getBoundingClientRect();

            let x = e.clientX - rect.left;
            x = Math.max(0, Math.min(x, rect.width));

            const percent = x / rect.width;
            let newValue = min + percent * (max - min);

            newValue = Math.round(newValue / step) * step;
            newValue = Math.max(min, Math.min(newValue, max));

            slider.currentValue = newValue;
            updateSlider(slider);
          });
        }

        function updateSlider(slider) {
          const { thumb, progress, valueDisplay, min, max, formatValue } =
            slider;
          const percent = ((slider.currentValue - min) / (max - min)) * 100;

          thumb.style.left = `${percent}%`;
          progress.style.width = `${percent}%`;
          valueDisplay.textContent = formatValue(slider.currentValue);
        }

        document
          .getElementById("submit-btn")
          .addEventListener("click", function () {
            document.getElementById("result-age").textContent = 
              sliders.find((s) => s.id === "age").valueDisplay.textContent;
            document.getElementById("result-guests").textContent = 
              sliders.find((s) => s.id === "guests").valueDisplay.textContent;
            document.getElementById("result-capacity").textContent =
              sliders.find((s) => s.id === "capacity").valueDisplay.textContent;
            document.getElementById("result-kchs").textContent =
              sliders.find((s) => s.id === "kchs").valueDisplay.textContent;

            document.getElementById("result").style.display = "block";

            document.getElementById("result").scrollIntoView({
              behavior: "smooth",
              block: "nearest",
            });
          });
      });
    </script>
  </body>
</html>